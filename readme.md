### Пример базового приложения на Laravel

- Базовый пример создан с помощью докер образа composer командой из документации:

```
composer create-project laravel/laravel example-app
```

- В центральную страницу примера: resources/views/welcome.blade.php добавлена проверка БД и кеша
- В config/logging.php добавлено логирование в stdout - создан отдельный channel и он выставлен в stack единственным каналом (сделано для того, чтобы нормально поддержать логирование сервиса в k8s).
- Dockerfile состоит из двух частей: build зависимостей через composer и далее запуск в runtime с поддержкой memcached.
- Инструкции по запуску и деплою можно найти здесь: https://github.com/IsieIam/laravel_deploy
- Jenkinsfile - пример pipeline для Jenkins для билда образа - в данном примере не используется - непосредственно сборка и деплой вынесены в отдельный репо: https://github.com/IsieIam/laravel_deploy/tree/main . 
Осовные плюсы такого подхода - делой отдельно, ПО отдельно:
  - раздельная история изменений,
  - возможность использования разные flow ведения репо (например tbd деплоя и классический git flow для приложения)
  - за деплой может отвечать одна команда, за приложение другая и они не мешают друг другу.
- В случае использования не интернет репо composer-а(а например локального в закрытой инфраструктуре) - следует удалить(или единожды собрать) файл composer.lock или добавить его в gitignore, плюс в dockerfile заменить composer install на composer update - это позволит composer сгенерить новый файл composer.lock при условии использования другого репо.
